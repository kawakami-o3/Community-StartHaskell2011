｛宿題｝｛しゅくだい｝1
=======================

この｛宿題｝｛しゅくだい｝は「プログラミングHaskell」の
｛第｝｛だい｝1～4｛章｝｛しょう｝を｛扱｝｛あつか｝っています。

｛問題｝｛もんだい｝1
---------------------

｛地震｝｛じしん｝のマグニチュードを｛比｝｛くら｝べる｛関数｝｛かんすう｝
`magComp`を｛定義｝｛ていぎ｝せよ。

    magComp :: Float  -- ｛地震｝｛じしん｝1のマグニチュード
            -> Float  -- ｛地震｝｛じしん｝2のマグニチュード
            -> Float  -- ｛地震｝｛じしん｝1が｛何倍｝｛なんばい｝｛強｝｛つよ｝い

｛例｝｛たと｝えば、M9の｛地震｝｛じしん｝がM7の｛地震｝｛じしん｝の
1000｛倍｝｛ばい｝｛強｝｛つよ｝い。

http://ja.wikipedia.org/wiki/マグニチュード

    > magComp 9 7
    1000.0

ヒント：`(^)`という｛関数｝｛かんすう｝の｛型｝｛かた｝を
｛調｝｛しら｝べると、｛指数｝｛しすう｝には*Integral*しか｛使｝｛つか｝えない
ことがわかる。ここでは`(**)`という｛関数｝｛かんすう｝を｛使｝｛つか｝うと
｛良｝｛よ｝い。こちらは｛指数｝｛しすう｝として｛実数｝｛じっすう｝も
｛使｝｛つか｝える。いずれの｛関数｝｛かんすう｝も*Prelude*で
｛定義｝｛ていぎ｝されている。｛型｝｛かた｝についてはGHCiの`:t`コマンドで
｛確認｝｛かくにん｝すると｛良｝｛よ｝い。

｛以下｝｛いか｝の｛実行例｝｛じっこうれい｝で｛自分｝｛じぶん｝の
｛定義｝｛ていぎ｝が｛正｝｛ただ｝しいことを｛確認｝｛かくにん｝せよ。

    > magComp 7.0 6.2
    15.848943
    > magComp 6.8 7.0
    0.50118756

｛問題｝｛もんだい｝2
---------------------

(1) ｛近似等価性｝｛きんじとうかせい｝を｛検査｝｛けんさ｝する
｛関数｝｛かんすう｝`approxEq`を｛定義｝｛ていぎ｝せよ。

    approxEq :: Float  -- Δ
             -> Float  -- ｛値｝｛あたい｝1
             -> Float  -- ｛値｝｛あたい｝2
             -> Bool   -- ｛値｝｛あたい｝2 ∈ (｛値｝｛あたい｝1 - Δ, ｛値｝｛あたい｝1 + Δ)

ヒント：`(a, b)`は｛境界｝｛きょうかい｝を｛含｝｛ふく｝まない
｛下限｝｛かげん｝`a`、｛上限｝｛じょうげん｝`b`の｛領域｝｛りょういき｝

｛以下｝｛いか｝の｛実行例｝｛じっこうれい｝で｛自分｝｛じぶん｝の
｛定義｝｛ていぎ｝が｛正｝｛ただ｝しいことを｛確認｝｛かくにん｝せよ。

    > approxEq 0.01 0 0.01
    False
    > approxEq 0.01 0 0.0099
    True
    > approxEq 0.001 (22 / 7) pi
    False
    > approxEq 0.01 (22 / 7) pi
    True

(2) Δを`0.0001`に｛設定｝｛せってい｝して｛近似等価｝｛きんじとうか｝
｛関数｝｛かんすう｝`approxEq'`はカリー｛化｝｛か｝を｛用｝｛もち｝いて
｛以下｝｛いか｝のように｛定義｝｛ていぎ｝できる：

    approxEq' :: Float  -- ｛値｝｛あたい｝1
              -> Float  -- ｛値｝｛あたい｝2
              -> Bool   -- ｛値｝｛あたい｝2 ∈ (｛値｝｛あたい｝1 - 0.0001, ｛値｝｛あたい｝1 + 0.0001)
    approxEq' = approxEq 0.0001

｛以下｝｛いか｝の｛実行例｝｛じっこうれい｝で｛自分｝｛じぶん｝の
｛定義｝｛ていぎ｝が｛正｝｛ただ｝しいことを｛確認｝｛かくにん｝せよ。

    > (99 / 70) `approxEq'` (sqrt 2)
    True

(3) カリー｛化｝｛か｝を｛使｝｛つか｝って、｛引数｝｛ひきすう｝が0±0.0001
｛以内｝｛いない｝か｛検査｝｛けんさ｝する｛関数｝｛かんすう｝`approxZero`を
｛定義｝｛ていぎ｝せよ。

    approxZero :: Float  -- ｛値｝｛あたい｝
               -> Bool   -- ｛値｝｛あたい｝ ∈ (-0.0001, 0.0001)

｛以下｝｛いか｝の｛実行例｝｛じっこうれい｝で｛自分｝｛じぶん｝の
｛定義｝｛ていぎ｝が｛正｝｛ただ｝しいことを｛確認｝｛かくにん｝せよ。

    > approxZero (-1 / 999)
    False
    > approxZero (0.5 ^ 14)
    True

｛問題｝｛もんだい｝3
---------------------

｛動画｝｛どうが｝のファイルの（｛近似｝｛きんじ｝）
｛画像圧縮｝｛がぞうあっしゅく｝｛率｝｛りつ｝を｛計算｝｛けいさん｝する
｛関数｝｛かんすう｝`compLevel`を｛定義｝｛ていぎ｝せよ。

    compLevel :: (Int, Int)  -- ｛幅｝｛はば｝（ピクセル）, ｛高｝｛たか｝さ（ピクセル）
              -> Float       -- フレームレート（フレーム／｛秒｝｛びょう｝）
              -> Int         -- ｛時間｝｛じかん｝（｛秒｝｛びょう｝）
              -> Float       -- オーディオ・ビットレート（Kb／｛秒｝｛びょう｝）
              -> Float       -- ファイルサイズ（MiB）
              -> Float       -- ｛画像圧縮｝｛がぞうあっしゅく｝｛率｝｛りつ｝

この｛問題｝｛もんだい｝では、｛動画｝｛どうが｝の
｛画像圧縮｝｛がぞうあっしゅく｝｛率｝｛りつ｝とは｛非圧縮｝｛ひあっしゅく｝
ビデオのビットレート÷｛圧縮｝｛あっしゅく｝されたビデオのビットレートとする。
24ビット／ピクセルの｛色震度｝｛いろしんど｝を｛仮定｝｛かてい｝する。
｛単位｝｛たんい｝を｛間違｝｛まちが｝えないように｛注意｝｛ちゅうい｝を
｛払｝｛はら｝う｛必要｝｛ひつよう｝がある。ファイルサイズはメビバイト（MiB）
（1024×1024バイト）で｛数｝｛かぞ｝えるが、ビットレートの｛方｝｛ほう｝は
キロビット（1000ビット）／｛秒｝｛びょう｝で｛計算｝｛けいさん｝する。

｛以下｝｛いか｝の｛実行例｝｛じっこうれい｝で｛自分｝｛じぶん｝の
｛定義｝｛ていぎ｝が｛正｝｛ただ｝しいことを｛確認｝｛かくにん｝せよ。

    > compLevel (720, 480) (30000 / 1001) (120 * 60) 128 700
    361.5448
    > compLevel (352, 288) 25 (120 * 60) 128 700
    88.466

｛問題｝｛もんだい｝4
---------------------

｛第｝｛だい｝2｛章｝｛しょう｝で｛紹介｝｛しょうかい｝した
｛関数｝｛かんすう｝を｛使｝｛つか｝って、リストの｛最初｝｛さいしょ｝と
｛最後｝｛さいご｝｛以外｝｛いがい｝の｛要素｝｛ようそ｝を
｛逆順｝｛ぎゃくじゅん｝にする｛関数｝｛かんすう｝`revmid`をその｛型｝｛かた｝
とともに｛定義｝｛ていぎ｝せよ。

｛以下｝｛いか｝の｛実行例｝｛じっこうれい｝で｛自分｝｛じぶん｝の
｛定義｝｛ていぎ｝が｛正｝｛ただ｝しいことを｛確認｝｛かくにん｝せよ。

    > revmid []
    []
    > revmid [1,2]
    [1,2]
    > revmid [1,2,3,4,5]
    [1,4,3,2,5]

｛問題｝｛もんだい｝5
---------------------

｛親戚｝｛しんせき｝の｛集｝｛あつ｝まりで、｛地震｝｛じしん｝
｛研究｝｛けんきゅう｝｛関係｝｛かんけい｝の｛仕事｝｛しごと｝をしている
｛義理｝｛ぎり｝の｛姉｝｛あね｝からある｛問題｝｛もんだい｝について
｛相談｝｛そうだん｝された。｛本質的｝｛ほんしつてき｝には、
｛三角柱｝｛さんかくちゅう｝の｛頂点｝｛ちょうてん｝の｛順序｝｛じゅんじょ｝を
｛確認｝｛かくにん｝するという｛問題｝｛もんだい｝であった。ただし、
｛三角柱｝｛さんかくちゅう｝は3｛次元｝｛じげん｝｛空間｝｛くうかん｝で
｛任意｝｛にんい｝の｛向｝｛む｝きになっていて｛良｝｛よ｝いとする。
｛各｝｛かく｝｛頂点｝｛ちょうてん｝は｛添付｝｛てんぷ｝した｛図｝｛ず｝に
｛示｝｛しめ｝した｛順｝｛じゅん｝になっている｛必要｝｛ひつよう｝がある。

この｛問題｝｛もんだい｝を｛解｝｛と｝くプログラムをHaskellで
｛作成｝｛さくせい｝せよ。｛座標系｝｛ざひょうけい｝は｛右手系｝｛みぎてけい｝
（｛親指｝｛おやゆび｝X｛軸｝｛じく｝、｛人差｝｛ひとさ｝し｛指｝｛ゆび｝
Y｛軸｝｛じく｝、｛中指｝｛なかゆび｝Z｛軸｝｛じく｝）を｛用｝｛もち｝いよ。

    isValidTP :: (Float, Float, Float)  -- ｛頂点｝｛ちょうてん｝1 (X,Y,Z)
              -> (Float, Float, Float)  -- ｛頂点｝｛ちょうてん｝2 (X,Y,Z)
              -> (Float, Float, Float)  -- ｛頂点｝｛ちょうてん｝3 (X,Y,Z)
              -> (Float, Float, Float)  -- ｛頂点｝｛ちょうてん｝4 (X,Y,Z)
              -> (Float, Float, Float)  -- ｛頂点｝｛ちょうてん｝5 (X,Y,Z)
              -> (Float, Float, Float)  -- ｛頂点｝｛ちょうてん｝6 (X,Y,Z)
              -> Bool                   -- ｛正｝｛ただ｝しい｛順｝｛じゅん｝のとき｛真｝｛しん｝

｛以下｝｛いか｝の｛実行例｝｛じっこうれい｝で｛自分｝｛じぶん｝の
｛定義｝｛ていぎ｝が｛正｝｛ただ｝しいことを｛確認｝｛かくにん｝せよ。

    > isValidTP (2,0,0) (2,2,0) (0,2,2) (0,0,2) (-2,2,0) (-2,0,0)
    True
    > isValidTP (2,0,0) (2,-2,0) (0,-2,-2) (0,0,-2) (-2,-2,0) (-2,0,0)
    True
    > isValidTP (2,0,0) (2,2,0) (0,2,2) (0,0,2) (-2,0,0) (-2,2,0)
    False
    > isValidTP (2,0,0) (2,-2,0) (0,-2,-2) (0,0,-2) (-2,0,0) (-2,-2,0)
    False
    > isValidTP (0,0,1) (0,1,1) (1,1,0) (1,0,0) (-1,1,0) (-1,0,0)
    False

コメント：｛座標｝｛ざひょう｝の｛表現｝｛ひょうげん｝に｛今回｝｛こんかい｝は
タプルを｛使｝｛つか｝ったが、データ｛型｝｛かた｝を｛用｝｛もち｝いてこの
コードをすっきりさせるやり｛方｝｛かた｝をいずれ｛学｝｛まな｝ぶ。
